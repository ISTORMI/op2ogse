; -*- mode: conf-windows; coding: windows-1251-dos -*-

; Сталкеры в ТД, на ферме
[dsh.gulag.override.val_smart_bandit_1]
communities = stalker, green, freedom, nebo
cond        = {+val_chase_start =is_general_lager(val_rob)}
switch_0    = ;{!is_day}, {=is_weather_rain}, {=gulag_empty(val_smart_monster_lair_6)}
switch_1    = ;{=is_day !is_weather_rain =gulag_population_ge(val_smart_bandit_1:4) !gulag_empty(val_smart_monster_lair_6)}
dsh_after_delay = 72, 168 ;от трех суток до недели
dsh_change_profile_on_empty = true
dsh_profiles    = def
dsh_walking     = true
dsh_population_locked = true

[dsh.gulag.override.val_smart_bandit_1.def]:dsh.gulag.override.val_smart_bandit_1


; Бандиты в ТД, которые нападали на пост Долга
[dsh.gulag.override.val_smart_bandit_2]
cond        = {+bar_darklab_document_done} ;{+val_borov_dead}
switch_0    =
switch_1    =
dsh_after_delay = 72, 168 ;от трех суток до недели
dsh_change_profile_on_empty = true
dsh_population_locked = true
dsh_profiles = def
dsh_walking = {!actor_on_level(l04_darkvalley)}
dsh_walking_stalkers.teleport_pp = val_smart_bandit_2_raid_1_walk, 3
gulag_general.combat_ignore_cond = {+val_bandit_talk -val_borov_enemy -val_borov_dead =fighting_actor}

[dsh.gulag.override.val_smart_bandit_2.def]:dsh.gulag.override.val_smart_bandit_2


; Пост Долга в ТД, у перехода со Свалки
[dsh.gulag.override.val_smart_bandit_3]
cond        = never ;{+bar_darklab_document_done}
capacity    = 7 ;5
dsh_after_delay = 72, 168 ;от трех суток до недели
dsh_change_profile_on_empty = true
dsh_population_locked = true
dsh_profiles = def
dsh_walking = true

[dsh.xr_kamp.val_smart_bandit_3_kamp_1]
level_vertex_id = 10491

[dsh.gulag.override.val_smart_bandit_3.def]:dsh.gulag.override.val_smart_bandit_3


; Сталкеры у костра, под стенами базы бандитов
[dsh.gulag.override.sak_lager]
communities     = stalker, green, freedom, nebo
dsh_after_delay = 72, 168 ;от трех суток до недели
dsh_change_profile_on_empty = {+gar_hellcar_outfit_done +val_pula_ammo_done}
dsh_profiles    = def
dsh_walking     = {+gar_hellcar_outfit_done +val_pula_ammo_done}
dsh_population_locked = {+gar_hellcar_outfit_done +val_pula_ammo_done}

[dsh.gulag.override.sak_lager.def]:dsh.gulag.override.sak_lager


; Кидалы на ферме
[dsh.gulag.override.val_rob]
cond = {-bar_dolg_petrenko_gaussgan_done}
dsh_change_profile_on_empty = true
dsh_cleanup_restrictors = val_rob_zone, val_rob_warn_zone, val_rob_kill_zone
dsh_profiles = general_lager

; а теперь нормальные сталкеры
[dsh.gulag.override.val_rob.general_lager]:dsh.gulag.override.val_rob
cond            = never
type            = general_lager
communities     = stalker, green, freedom, nebo
dsh_paths.kamp  = kamp
dsh_paths.guard = guard1, guard2
dsh_walking     = true
dsh_change_profile_on_empty = never


; Пуля, Макс и Монгол. Что бы Монгол не пошел на базу, после освобождения
; Макса, смарт закроется только после лечения Монгола.
[dsh.gulag.override.val_escort]
cond = {+val_escort_scene_end +val_bandit_talk} never, always


; база бандитов
[dsh.gulag.override.val_lager_bandits]
capacity    = 28 ; +1 работа для Монгола ;27
dsh_walking = {+bar_darklab_document_done !actor_on_level(l04_darkvalley)}
; гулять идут только сидящие у костров
;dsh_walking_stalkers.job_section = _kamp
dsh_walking_stalkers.teleport_pp = val_smart_bandit_2_raid_1_walk, 3

; респаунер на базе бандитов
[dsh.se_respawn.val_bandit_respawn_1]
xyzlg = 47.8142623901367, -0.168228149414063, -111.44506072998, 234550, 869

; костер спящих бандитов
[dsh.xr_kamp.val_lager_bandits_sleeper_kamp1]
preferred_seats = 231040, 233834, 235661, 234733


; Два бандита и раненный долговец
[dsh.gulag.override.val_sacrifice]
cond = {-val_bandit_talk -val_sacrifice_finish}


; костер для Бленда
[dsh.xr_kamp.dark_bland_kamp]
level_vertex_id = 340224
preferred_seats = 339413


; бандиты у перехода в X-18. Лагерь активируется позже, когда идем в X-18,
; что бы не мешать сцене спасения долговцев.
[dsh.gulag.override.val_x18_exit_base]
cond = {+val_actor_has_borov_key -val_chase_start}
